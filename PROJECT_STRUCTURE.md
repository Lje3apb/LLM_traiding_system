# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ LLM Trading System

## –û–±–∑–æ—Ä

–≠—Ç–æ **—Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å —Ä–µ–∂–∏–º–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º**, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–∏–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (LLM) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ–∑–∏—Ü–∏–π. –°–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, on-chain –º–µ—Ç—Ä–∏–∫–∏, –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é —Ä–µ–∂–∏–º–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ LLM –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.

---

## –ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ—è–±—Ä—å 2025 - –í–µ—Ä—Å–∏—è 0.3.0 (LIVE TRADING + UNIFIED UI)

**–ì–ª–∞–≤–Ω–∞—è –Ω–æ–≤–∏–Ω–∫–∞: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Live Trading —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Paper/Real**

1. **Exchange Integration** (`llm_trading_system/exchange/`):
   - ‚úÖ `ExchangeClient` - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ä–∂–∞–º–∏
   - ‚úÖ `BinanceFuturesClient` - Binance Futures USDT-M –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   - ‚úÖ `PaperTradingClient` - —Å–∏–º—É–ª—è—Ç–æ—Ä –±–∏—Ä–∂–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ market/limit –æ—Ä–¥–µ—Ä–æ–≤, –ø–æ–∑–∏—Ü–∏–π, –±–∞–ª–∞–Ω—Å–∞, leverage

2. **Live Trading Engine** (`llm_trading_system/engine/`):
   - ‚úÖ `LiveTradingEngine` - real-time execution –¥–≤–∏–∂–æ–∫
   - ‚úÖ `LiveSessionManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
   - ‚úÖ `LiveSession` - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è —Å state tracking
   - ‚úÖ WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è real-time updates (bar, trade, state_update)
   - ‚úÖ REST API endpoints –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Å–µ—Å—Å–∏—è–º–∏

3. **Unified Live Trading UI** (`llm_trading_system/api/templates/live_trading.html`):
   - ‚úÖ **Session Summary –±–ª–æ–∫**:
     * –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, symbol, timeframe, session ID
     * Running time —Å live —Ç–∞–π–º–µ—Ä–æ–º (HH:MM:SS)
     * Total trades, return %, win rate
     * Mode badge (Paper/Real) —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
   - ‚úÖ **Activity Log** - —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å:
     * Real-time event logging (—Å–æ–∑–¥–∞–Ω–∏–µ/—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø, —Å–¥–µ–ª–∫–∏, –æ—à–∏–±–∫–∏)
     * Color-coded messages (info/success/error/warning/trade)
     * Auto-scrolling —Å 100-entry limit
   - ‚úÖ **Responsive Grid Layout**:
     * Desktop (‚â•1200px): control panel + status —Å–ª–µ–≤–∞, chart —Å–ø—Ä–∞–≤–∞
     * Mobile (<768px): single column stack layout
     * Horizontally scrollable trades table
   - ‚úÖ **URL Parameter Prefilling**:
     * Pre-fills strategy, symbol, timeframe, mode, deposit from query params
     * Seamless navigation from backtest results and strategy list

4. **Enhanced UI/UX across all pages**:
   - ‚úÖ **Backtest Results** (`backtest_result.html`):
     * "Next Actions" panel —Å –∫–Ω–æ–ø–∫–∞–º–∏:
       - "Repeat Backtest" - –ø–æ–≤—Ç–æ—Ä –±—ç–∫—Ç–µ—Å—Ç–∞
       - "Go Live (Paper Test)" - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ live —Å paper mode + final equity
       - "Go Live (Real Trading)" - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ live —Å real mode
   - ‚úÖ **Strategy List** (`index.html`):
     * –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤–º–µ—Å—Ç–æ –∫–∞—Ä—Ç–æ—á–µ–∫
     * –ö–æ–ª–æ–Ω–∫–∏: Name, Type (Indicator/LLM Only/Hybrid), Symbol, Actions
     * Type badges —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
     * –ö–Ω–æ–ø–∫–∏: Edit, Backtest, Live (Paper), Live (Real), Delete
     * –í—Å–µ Live –∫–Ω–æ–ø–∫–∏ pre-fill –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è quick session start
   - ‚úÖ **Strategy Form** (`strategy_form.html`):
     * –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è live trading usage
     * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ initial_deposit (Paper vs Real mode)
     * –û–±—ä—è—Å–Ω–µ–Ω–∏–µ LLM regime-based position sizing

5. **JavaScript Enhancements** (`live_trading.js`):
   - ‚úÖ Session summary management —Å real-time metric calculation
   - ‚úÖ Running duration timer —Å HH:MM:SS display
   - ‚úÖ Activity log system —Å type-based styling
   - ‚úÖ URL parameter parsing –∏ form prefilling
   - ‚úÖ Enhanced event logging –¥–ª—è all user actions
   - ‚úÖ Trade execution logging —Å quantity, price, P&L

6. **Backend Updates** (`server.py`):
   - ‚úÖ Strategy type detection (Indicator/LLM Only/Hybrid)
   - ‚úÖ Enhanced ui_index route —Å strategy configs loading
   - ‚úÖ live_enabled flag –¥–ª—è conditional button display
   - ‚úÖ Improved error handling

7. **UI Integration Tests** (`tests/test_ui_live_integration.py`):
   - ‚úÖ 6 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Live Trading UI
   - ‚úÖ Test live page elements (mode switcher, buttons, chart, tables)
   - ‚úÖ Test URL parameter prefilling
   - ‚úÖ Test index page Live Trading links
   - ‚úÖ Test backtest result "Next Actions" panel
   - ‚úÖ Test strategy form live trading hints
   - ‚úÖ Test responsive layout classes

**Workflow —É–ª—É—á—à–µ–Ω–∏—è**:
- Seamless flow: Strategy Creation ‚Üí Backtest ‚Üí Live Testing (Paper) ‚Üí Live Trading (Real)
- Real-time session monitoring with comprehensive metrics
- Activity logging –¥–ª—è debugging –∏ audit trail
- Mobile-responsive design –¥–ª—è on-the-go monitoring

---

### –î–µ–∫–∞–±—Ä—å 2025 - –í–µ—Ä—Å–∏—è 0.3.1 (UNIFIED APPCONFIG + UI INTEGRATION)

**–ì–ª–∞–≤–Ω–∞—è –Ω–æ–≤–∏–Ω–∫–∞: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ UI**

1. **Unified AppConfig Service** (`llm_trading_system/config/`):
   - ‚úÖ `models.py` - Pydantic v2 –º–æ–¥–µ–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (type-safe)
   - ‚úÖ `service.py` - –°–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å singleton –∫—ç—à–µ–º
   - ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `~/.llm_trading/config.json`
   - ‚úÖ –°–µ–∫—Ü–∏–∏: API keys, LLM, Market, Risk, Exchange, UI defaults
   - ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `os.getenv()`

2. **Settings UI Page** (`/ui/settings`):
   - ‚úÖ Comprehensive settings page –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AppConfig
   - ‚úÖ 6 —Å–µ–∫—Ü–∏–π: LLM & Models, API Keys, Market, Risk, Exchange, UI Defaults
   - ‚úÖ Dynamic model selector —Å `list_ollama_models()` —Ñ—É–Ω–∫—Ü–∏–µ–π
   - ‚úÖ Secret preservation (API –∫–ª—é—á–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –µ—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ)
   - ‚úÖ Success message –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   - ‚úÖ Link –≤ navigation bar

3. **Backtest UI Integration**:
   - ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `cfg.ui`:
     * `default_backtest_equity` - –Ω–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
     * `default_commission` - –∫–æ–º–∏—Å—Å–∏—è –±–∏—Ä–∂–∏
     * `default_slippage` - –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
   - ‚úÖ LLM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `cfg.llm`:
     * `default_model` - –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
     * `ollama_base_url` - URL Ollama —Å–µ—Ä–≤–µ—Ä–∞
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

4. **Live/Paper Trading UI Integration**:
   - ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `cfg.ui` –∏ `cfg.exchange`:
     * `default_initial_deposit` - –Ω–∞—á–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç –¥–ª—è paper trading
     * `default_symbol` - —Ç–æ—Ä–≥–æ–≤—ã–π —Å–∏–º–≤–æ–ª
     * `default_timeframe` - —Ç–∞–π–º—Ñ—Ä–µ–π–º
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `live_trading_enabled`:
     * –ï—Å–ª–∏ `false` ‚Üí real mode –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (disabled)
     * Warning message —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ Settings
   - ‚úÖ JavaScript –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–º –¥–µ–ø–æ–∑–∏—Ç–∞:
     * Paper mode: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ —Å –¥–µ—Ñ–æ–ª—Ç–æ–º
     * Real mode: readonly, "Balance will be fetched from exchange"

5. **Global UI Updates**:
   - ‚úÖ –í—Å–µ —Ä–æ—É—Ç—ã (`/ui/`, `/ui/live`, backtest) –∏—Å–ø–æ–ª—å–∑—É—é—Ç AppConfig
   - ‚úÖ –£–¥–∞–ª–µ–Ω—ã hardcoded `os.getenv("EXCHANGE_LIVE_ENABLED")`
   - ‚úÖ Consistent –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `cfg.exchange.live_trading_enabled`

6. **CLI Integration** (—É–∂–µ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–Ω–µ–µ):
   - ‚úÖ `full_cycle_cli.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AppConfig –¥–ª—è LLM –∏ risk –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ override —á–µ—Ä–µ–∑ command-line –∞—Ä–≥—É–º–µ–Ω—Ç—ã

7. **list_ollama_models() Function**:
   - ‚úÖ –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π –∏–∑ Ollama API
   - ‚úÖ Endpoint: `/api/tags` —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º JSON
   - ‚úÖ Robust error handling (timeout, connection, HTTP errors)
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Settings UI –¥–ª—è dynamic dropdown
   - ‚úÖ 11 unit —Ç–µ—Å—Ç–æ–≤ –≤ `test_ollama_models_list.py`

8. **Integration Tests** (`tests/test_config_integration.py`):
   - ‚úÖ 7 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è AppConfig –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - ‚úÖ `test_load_config_returns_app_config` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ñ–æ–ª—Ç–æ–≤
   - ‚úÖ `test_save_and_load_config_round_trip` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞
   - ‚úÖ `test_backtest_ui_uses_app_config_defaults` - backtest UI
   - ‚úÖ `test_live_trading_ui_uses_app_config` - live UI –¥–µ—Ñ–æ–ª—Ç—ã
   - ‚úÖ `test_live_trading_ui_respects_live_enabled_flag` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ real mode
   - ‚úÖ `test_live_trading_ui_allows_real_mode_when_enabled` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ real mode
   - ‚úÖ `test_settings_page_uses_list_ollama_models` - Settings UI

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
- Single source of truth –¥–ª—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∏—Å—Ç–µ–º—ã
- Type-safe –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Pydantic validation
- –£–¥–æ–±–Ω–æ–µ UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–µ –Ω—É–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env)
- Automatic persistence –≤ JSON —Ñ–∞–π–ª
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å singleton –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ü—Ä–æ—Å—Ç–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏ (copy config.json)

---

### –ù–æ—è–±—Ä—å 2025 - –í–µ—Ä—Å–∏—è 0.2.0 (–ê–ì–†–ï–°–°–ò–í–ù–´–ô –†–ï–ñ–ò–ú)

**–û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:

1. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π** (`position_sizing.py`):
   - ‚úÖ –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å –Ω–µ–ª–∏–Ω–µ–π–Ω–æ–π –∞–º–ø–ª–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
   - ‚úÖ –ù–æ–≤—ã–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: EDGE_GAIN=2.5, EDGE_GAMMA=0.7, BASE_K=0.5
   - ‚úÖ Confidence-based scaling: low (0.7x), medium (1.0x), high (1.3x)
   - ‚úÖ Trend strength alignment: 0.8-1.2x –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –±—É—Å—Ç–µ—Ä
   - ‚úÖ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ç–µ–ø–µ—Ä—å k=0.5 (–≤–º–µ—Å—Ç–æ k=1.0)

2. **–°–º—è–≥—á–µ–Ω–Ω–∞—è LLM –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞** (`market_snapshot.py`):
   - ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –º–µ–Ω–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
   - ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ 0.6-0.85 –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö
   - ‚úÖ Few-shot –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –ª—É—á—à–µ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ LLM

3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã** (`tests/`):
   - ‚úÖ –í—Å–µ 19 —Ç–µ—Å—Ç–æ–≤ –≤ test_position_sizing.py –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –ø–æ–¥ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
   - ‚úÖ –ù–æ–≤—ã–π standalone —Å–∫—Ä–∏–ø—Ç test_full_cycle.py —Å argparse
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Python path (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
   - ‚úÖ FULL_CYCLE_TEST.md: –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
   - ‚úÖ PROJECT_STRUCTURE.md: –æ—Ç—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

5. **UI –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**:
   - ‚úÖ bb_std ‚Üí bb_mult field name fix
   - ‚úÖ Trades table date display bug (Unix timestamps)
   - ‚úÖ JavaScript chart zoom bug (setVisibleLogicalRange)
   - ‚úÖ Static file paths (url_for usage)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```
/home/user/LLM_traiding_system/
‚îú‚îÄ‚îÄ llm_trading_system/              # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config/                      # üÜï Unified configuration service
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py                # Pydantic v2 configuration models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service.py               # Load/save service with singleton cache
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md                # Configuration documentation
‚îÇ   ‚îú‚îÄ‚îÄ core/                        # –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ position_sizing.py       # –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Ä–µ–∂–∏–º–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market_snapshot.py       # –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ regime_engine.py         # –ü–∞–π–ø–ª–∞–π–Ω –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∂–∏–º–æ–≤ —á–µ—Ä–µ–∑ LLM
‚îÇ   ‚îú‚îÄ‚îÄ infra/                       # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ llm_infra/               # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ LLM
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ types.py             # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ LLM
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ providers_ollama.py  # üîÑ –ü—Ä–æ–≤–∞–π–¥–µ—Ä Ollama + list_ollama_models()
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ providers_openai.py  # OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client_sync.py       # –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LLM –∫–ª–∏–µ–Ω—Ç —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ client_async.py      # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LLM –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ retry.py             # –ü–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ compressor.py        # –£—Ç–∏–ª–∏—Ç—ã —Å–∂–∞—Ç–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ router.py            # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ exchange/                    # üÜï Exchange integration layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py                  # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π ExchangeClient –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ binance_futures.py       # Binance Futures USDT-M client
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ paper_trading.py         # Paper trading —Å–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ data/                        # –ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ binance_loader.py        # –ó–∞–≥—Ä—É–∑–∫–∞ OHLCV –¥–∞–Ω–Ω—ã—Ö —Å Binance archive
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_manager.py          # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ strategies/                  # –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py                  # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ –ø—Ä–∏–º–∏—Ç–∏–≤—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ configs.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (dataclasses)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rules.py                 # DSL –¥–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª (JSON-based)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ indicators.py            # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ indicator_strategy.py    # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å JSON –ø—Ä–∞–≤–∏–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.py               # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ llm_regime_strategy.py   # –°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ LLM-—Ä–µ–∂–∏–º–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ engine/                      # –î–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backtester.py            # –î–≤–∏–∂–æ–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backtest_service.py      # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ portfolio.py             # –°–∏–º—É–ª—è—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_feed.py             # –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∏–¥ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ CSV)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ live_trading.py          # üÜï LiveTradingEngine –¥–ª—è real-time execution
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ live_service.py          # üÜï LiveSessionManager —Å WebSocket –∏ REST API
‚îÇ   ‚îú‚îÄ‚îÄ api/                         # Web UI –∏ REST API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.py                # üîÑ FastAPI —Å–µ—Ä–≤–µ—Ä —Å AppConfig integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/               # Jinja2 —à–∞–±–ª–æ–Ω—ã HTML
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html            # üîÑ –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å Settings link
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html           # üîÑ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ strategy_form.html   # üîÑ –§–æ—Ä–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (—Å live hints)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backtest_form.html   # üîÑ –§–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞ (AppConfig defaults)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backtest_result.html # üîÑ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å Next Actions panel)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ live_trading.html    # üîÑ Live Trading UI (AppConfig defaults)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.html        # üÜï Settings page –¥–ª—è AppConfig —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ static/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ live_trading.js      # üîÑ JavaScript –¥–ª—è Live Trading UI (deposit logic)
‚îÇ   ‚îî‚îÄ‚îÄ cli/                         # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ full_cycle_cli.py        # CLI –ø–æ–ª–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ live_cli.py              # üÜï CLI –¥–ª—è live/paper trading —Å LLM
‚îÇ       ‚îú‚îÄ‚îÄ quick_test_ollama.py     # –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Ollama
‚îÇ       ‚îî‚îÄ‚îÄ check_dependencies.py    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ data/                            # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è CSV —Ñ–∞–π–ª–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep                     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—É—Å—Ç–æ–π –ø–∞–ø–∫–∏ –≤ git
‚îú‚îÄ‚îÄ examples/                        # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ README.md                    # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–∏–º–µ—Ä–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ night_cat_samurai_strategy.json  # –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ run_night_cat_samurai.py     # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–º–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ list_ollama_models.py        # üÜï –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è list_ollama_models()
‚îú‚îÄ‚îÄ tests/                           # –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ _test_support.py             # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_position_sizing.py      # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ test_full_cycle.py           # –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
‚îÇ   ‚îú‚îÄ‚îÄ test_ollama.py               # –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ Ollama
‚îÇ   ‚îú‚îÄ‚îÄ test_ollama_models_list.py   # üÜï –¢–µ—Å—Ç—ã list_ollama_models function (11 tests)
‚îÇ   ‚îú‚îÄ‚îÄ test_onchain_apis.py         # –¢–µ—Å—Ç—ã on-chain API
‚îÇ   ‚îú‚îÄ‚îÄ test_fetch_onchain.py        # –¢–µ—Å—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è on-chain –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ test_ui_smoke.py             # Smoke —Ç–µ—Å—Ç—ã Web UI
‚îÇ   ‚îú‚îÄ‚îÄ test_ui_settings.py          # üÜï –¢–µ—Å—Ç—ã Settings UI page (5 tests)
‚îÇ   ‚îú‚îÄ‚îÄ test_ui_live_integration.py  # UI integration —Ç–µ—Å—Ç—ã –¥–ª—è Live Trading
‚îÇ   ‚îú‚îÄ‚îÄ test_config_integration.py   # üÜï –¢–µ—Å—Ç—ã AppConfig integration (7 tests)
‚îÇ   ‚îú‚îÄ‚îÄ test_exchange_paper.py       # –¢–µ—Å—Ç—ã paper trading client
‚îÇ   ‚îú‚îÄ‚îÄ test_live_trading_engine.py  # –¢–µ—Å—Ç—ã LiveTradingEngine
‚îÇ   ‚îú‚îÄ‚îÄ test_live_api.py             # –¢–µ—Å—Ç—ã REST API –¥–ª—è live sessions
‚îÇ   ‚îî‚îÄ‚îÄ test_llm_regime_wrapped.py   # –¢–µ—Å—Ç—ã LLM regime wrapped strategy
‚îú‚îÄ‚îÄ setup.py                         # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt                 # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                       # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml               # Docker –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                         # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ .env.example                     # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore                       # –®–∞–±–ª–æ–Ω—ã –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è Git
‚îú‚îÄ‚îÄ check_ollama.sh                  # –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ Ollama
‚îú‚îÄ‚îÄ README.md                        # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ STRATEGIES.md                    # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ INSTALL.md                       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ OLLAMA_SETUP.md                  # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Ollama (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ FULL_CYCLE_TEST.md               # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–ª–Ω–æ–º—É —Ü–∏–∫–ª—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ test_full_cycle.py               # Standalone —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
‚îú‚îÄ‚îÄ LICENSE                          # –§–∞–π–ª –ª–∏—Ü–µ–Ω–∑–∏–∏
‚îî‚îÄ‚îÄ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤.txt              # –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (—Ä—É—Å—Å–∫–∏–π)
```

---

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ (`llm_trading_system/core/`)

#### **position_sizing.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—ã–≤–æ–¥ LLM –æ —Ä–µ–∂–∏–º–µ –≤ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
- **–ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: `compute_position_multipliers(llm_output, side, base_long_size, base_short_size, k_max)`
- **–õ–æ–≥–∏–∫–∞ (–ê–ì–†–ï–°–°–ò–í–ù–´–ô –†–ï–ñ–ò–ú)**:
  - **–ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
    - `EDGE_GAIN = 2.5` - —É—Å–∏–ª–µ–Ω–∏–µ –∫—Ä–∞—è (edge amplification)
    - `EDGE_GAMMA = 0.7` - –Ω–µ–ª–∏–Ω–µ–π–Ω–æ–µ —Å–∂–∞—Ç–∏–µ (power function)
    - `BASE_K = 0.5` - –±–∞–∑–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  - **–†–∞—Å—á–µ—Ç edge**: `edge = prob_bull - 0.5`
  - **–ù–µ–ª–∏–Ω–µ–π–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ**: `edge_eff = (|edge| * EDGE_GAIN) ^ EDGE_GAMMA`
  - **Confidence scaling**: low: 0.7x, medium: 1.0x, high: 1.3x
  - **Trend alignment**: 0.8 + 0.4 * trend_strength (–±—É—Å—Ç–µ—Ä 0.8-1.2x)
  - **Risk throttling**: 30% —à—Ç—Ä–∞—Ñ –∑–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫ (–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å + –Ω–æ–≤–æ—Å—Ç–∏)
  - **–ú–Ω–æ–∂–∏—Ç–µ–ª–∏**:
    - Bullish: `k_long = BASE_K + edge_eff`, `k_short = BASE_K - edge_eff`
    - Bearish: `k_long = BASE_K - edge_eff`, `k_short = BASE_K + edge_eff`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –Ω–µ–ª–∏–Ω–µ–π–Ω–∞—è –∞–º–ø–ª–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞
  - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ LLM (confidence_level)
  - –£—Å–∏–ª–µ–Ω–∏–µ –ø–æ —Å–∏–ª–µ —Ç—Ä–µ–Ω–¥–∞ (trend_strength)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0, k_max]

#### **market_snapshot.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö** (–≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API):
  - **Binance API**: –°–ø–æ—Ç–æ–≤—ã–µ —Ü–µ–Ω—ã, –æ–±—ä–µ–º—ã, —Å—Ç–∞–≤–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–Ω–∏–≥–∞ –æ—Ä–¥–µ—Ä–æ–≤
  - **CoinMetrics Community**: BTC on-chain –º–µ—Ç—Ä–∏–∫–∏, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤
  - **Blockchain.com**: –ú–µ—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–æ–≤ (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π)
  - **CryptoPanic**: –ö—Ä–∏–ø—Ç–æ–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - **NewsAPI**: –û–±—â–∏–µ –∫—Ä–∏–ø—Ç–æ–Ω–æ–≤–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `build_market_snapshot(settings)`: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
  - `build_system_prompt()`: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è LLM (–û–ë–ù–û–í–õ–ï–ù–û)
  - `build_user_prompt(snapshot)`: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–≤–æ–¥–∞ –≤ LLM
- **–í—ã–≤–æ–¥**: –ü–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ —Ä—ã–Ω–∫–∞ —Å —Ä—ã–Ω–æ—á–Ω—ã–º–∏/on-chain/–Ω–æ–≤–æ—Å—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–ê–ì–†–ï–°–°–ò–í–ù–´–ô –†–ï–ñ–ò–ú)**:
  - –°–º—è–≥—á–µ–Ω–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π: 0.60‚Äì0.75 –ø—Ä–∏–µ–º–ª–µ–º–æ –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö
  - –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ 0.75‚Äì0.85 –ø—Ä–∏ —Å–∏–ª—å–Ω—ã—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞—Ö
  - Few-shot –ø—Ä–∏–º–µ—Ä—ã –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–ª—è LLM
  - –ò–∑–±–µ–≥–∞–Ω–∏–µ —Å–≤–µ—Ä—Ö-–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–Ω–µ –≤—Å–µ–≥–¥–∞ 0.5-0.55)

#### **regime_engine.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–∞–π–ø–ª–∞–π–Ω, —Å–æ–µ–¥–∏–Ω—è—é—â–∏–π —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí LLM ‚Üí —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
- **–ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: `evaluate_regime_and_size(snapshot, client, base_size, k_max, temperature)`
- **–ü–æ—Ç–æ–∫**:
  1. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ —Å–Ω–∏–º–∫–∞
  2. –ó–∞–ø—Ä–æ—Å LLM –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∂–∏–º–∞
  3. –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON –æ—Ç–≤–µ—Ç–∞ LLM
  4. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π –ø–æ–∑–∏—Ü–∏–∏
  5. –í–æ–∑–≤—Ä–∞—Ç –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–í—ã–≤–æ–¥**: Dict —Å llm_output, k_long, k_short, pos_long, pos_short

---

### 2. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`llm_trading_system/infra/llm_infra/`)

#### **types.py**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ LLM
- `LLMProvider`: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- `AsyncLLMProvider`: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

#### **providers_ollama.py**
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Ollama
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: deepseek-v3.1:671b-cloud
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö –º–æ–¥–µ–ª–µ–π Ollama
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ base_url –∏ timeout

#### **providers_openai.py**
- OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç —Å OpenAI, Azure OpenAI –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ endpoint'–∞–º–∏

#### **client_sync.py** / **client_async.py**
- –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∏ —Å–∂–∞—Ç–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–≤

#### **retry.py**
- –ü–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–±–æ–µ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ max_retries –∏ –∑–∞–¥–µ—Ä–∂–∫–∏

#### **compressor.py**
- –£—Ç–∏–ª–∏—Ç—ã —Å–∂–∞—Ç–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –ü–æ–º–æ–≥–∞–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ç–æ–∫–µ–Ω–æ–≤

#### **router.py**
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

---

### 3. –î–∞–Ω–Ω—ã–µ (`llm_trading_system/data/`)

#### **binance_loader.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö OHLCV –¥–∞–Ω–Ω—ã—Ö —Å Binance archive (data.binance.vision)
- **–ö–ª–∞—Å—Å**: `BinanceArchiveLoader`
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `download_range(start_date, end_date)`: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥
  - `_download_day(date)`: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å —Å retry –ª–æ–≥–∏–∫–æ–π
  - `_build_url(date)`: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL –¥–ª—è –∞—Ä—Ö–∏–≤–∞ Binance
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (tenacity)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
  - –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤: 1m, 5m, 15m, 30m, 1h, 4h, 1d
  - Streaming –ø—Ä–æ–≥—Ä–µ—Å—Å —á–µ—Ä–µ–∑ callback

#### **data_manager.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞–º–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ö–ª–∞—Å—Å**: `DataManager`
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `get_or_download_data()`: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∏–∑ –∫—ç—à–∞ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞)
  - `check_data_coverage()`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–∞—Ç
  - `save_to_csv()`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ DataFrame –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π CSV —Ñ–æ—Ä–º–∞—Ç
  - `load_from_csv()`: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV
  - `merge_and_update()`: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤: `{symbol}_{interval}_{start}_{end}.csv`
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
  - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: timestamp, open, high, low, close, volume

---

### 4. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ (`llm_trading_system/strategies/`)

#### **base.py**
- **–ü—Ä–∏–º–∏—Ç–∏–≤—ã**:
  - `Bar`: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö OHLCV
  - `Order`: –¶–µ–ª–µ–≤–æ–π –æ—Ä–¥–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
  - `AccountState`: –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
  - `Strategy`: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `on_bar(bar, account) -> Order | None`

#### **configs.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ dataclass
- **–ö–ª–∞—Å—Å—ã**:
  - `IndicatorStrategyConfig`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (RSI, BB, EMA, ATR –∏ —Ç.–¥.)
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ (base_position_pct, pyramiding, martingale)
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã TP/SL
  - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

#### **rules.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: DSL (Domain Specific Language) –¥–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª
- **–ö–ª–∞—Å—Å**: `RuleSet`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü–∞—Ä—Å–∏–Ω–≥ JSON –ø—Ä–∞–≤–∏–ª –≤ –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –ª–æ–≥–∏–∫—É
  - –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: `>`, `<`, `>=`, `<=`, `==`, `!=`
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: `cross_above`, `cross_below`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –∞–ª–∏–∞—Å–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

#### **indicators.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**:
  - SMA, EMA (—Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ)
  - RSI (–∏–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã)
  - Bollinger Bands (–ø–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞)
  - ATR (—Å—Ä–µ–¥–Ω–∏–π –∏—Å—Ç–∏–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
  - ADX (–∏–Ω–¥–µ–∫—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è)
  - Volume MA (—Å—Ä–µ–¥–Ω–∏–π –æ–±—ä–µ–º)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: NumPy-based –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### **indicator_strategy.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å JSON –ø—Ä–∞–≤–∏–ª–∞–º–∏
- **–ö–ª–∞—Å—Å**: `IndicatorStrategy`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –û—Ü–µ–Ω–∫–∞ –ø—Ä–∞–≤–∏–ª –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ (long/short)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–µ–π —Å –ø–∏—Ä–∞–º–∏–¥–∏–Ω–≥–æ–º
  - –ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª-—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (TradingView-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TP/SL
  - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (—Ç–æ—Ä–≥–æ–≤–ª—è –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —á–∞—Å—ã)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - Pine Script —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
  - –ê–ª–∏–∞—Å—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ (lower_bb, upper_bb, vol_threshold)
  - –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
  - –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

#### **storage.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- **–§—É–Ω–∫—Ü–∏–∏**:
  - `save_config()`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –≤ JSON
  - `load_config()`: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–∑ JSON
  - `list_configs()`: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `~/.llm_trading/strategies/`

#### **llm_regime_strategy.py**
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ LLM-—Ä–µ–∂–∏–º–∞—Ö
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –¥–≤–∏–∂–∫—É —Ä–µ–∂–∏–º–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–∫–∏ LLM
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `horizon_bars`: –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - `base_size`: –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
  - `k_max`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å

---

### 5. –î–≤–∏–∂–æ–∫ (`llm_trading_system/engine/`)

#### **backtester.py**
- –§—Ä–µ–π–º–≤–æ—Ä–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
- **–ú–µ—Ç—Ä–∏–∫–∏**: –ö—Ä–∏–≤–∞—è –∫–∞–ø–∏—Ç–∞–ª–∞, –æ–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

#### **backtest_service.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–æ–≤
- **–§—É–Ω–∫—Ü–∏—è**: `run_backtest_from_config_dict()`
- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±—ç–∫—Ç–µ—Å—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Web UI

#### **portfolio.py**
- –°–∏–º—É–ª—è—Ç–æ—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å –ª–æ–≥–∏–∫–æ–π –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–æ–∑–∏—Ü–∏–π
- –°–∏–º—É–ª—è—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏ —Ä–∞—Å—á–µ—Ç P&L
- **–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `get_open_trades_count()`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
  - `get_closed_trades_count()`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫
- **–í—ã–≤–æ–¥**: –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫, –∫—Ä–∏–≤–∞—è –∫–∞–ø–∏—Ç–∞–ª–∞

#### **data_feed.py**
- –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∏–¥–∞ –¥–∞–Ω–Ω—ã—Ö
- `CSVDataFeed`: –ß—Ç–µ–Ω–∏–µ OHLCV –∏–∑ CSV
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ISO8601 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –∏ Unix —Å–µ–∫—É–Ω–¥
- –î–∏–∑–∞–π–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏

---

### 6. Exchange Integration (`llm_trading_system/exchange/`)

#### **base.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ä–∂–∞–º–∏
- **–ö–ª–∞—Å—Å**: `ExchangeClient` (Protocol)
- **–ú–µ—Ç–æ–¥—ã**:
  - `get_balance()`: –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
  - `get_position()`: –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
  - `create_order()`: –°–æ–∑–¥–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ/–ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
  - `cancel_order()`: –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
  - `get_order_status()`: –°—Ç–∞—Ç—É—Å –æ—Ä–¥–µ—Ä–∞
  - `get_current_price()`: –¢–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞

#### **binance_futures.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Binance Futures USDT-M
- **–ö–ª–∞—Å—Å**: `BinanceFuturesClient`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –†–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ –Ω–∞ Binance
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏ (long/short)
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ leverage (1x-125x)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –∏ P&L
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ market –∏ limit –æ—Ä–¥–µ—Ä–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç EXCHANGE_LIVE_ENABLED=true –¥–ª—è —Ä–∞–±–æ—Ç—ã

#### **paper_trading.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–∏–º—É–ª—è—Ç–æ—Ä –±–∏—Ä–∂–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ö–ª–∞—Å—Å**: `PaperTradingClient`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –°–∏–º—É–ª—è—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–æ–∑–∏—Ü–∏–π
  - –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
  - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
  - –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤
  - –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π API –¥–ª—è seamless –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

---

### 7. Live Trading Engine (`llm_trading_system/engine/`)

#### **live_trading.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Real-time —Ç–æ—Ä–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è live –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ö–ª–∞—Å—Å**: `LiveTradingEngine`
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `start()`: –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
  - `stop()`: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - `on_bar()`: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ –±–∞—Ä–∞ —Å –≤—ã–∑–æ–≤–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - `execute_order()`: –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ ExchangeClient
- **–§—É–Ω–∫—Ü–∏–∏**:
  - Polling –Ω–æ–≤—ã—Ö –±–∞—Ä–æ–≤ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
  - –í—ã–∑–æ–≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
  - –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ exchange client
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏ P&L –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏

#### **live_service.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- **–ö–ª–∞—Å—Å—ã**:
  - `LiveSessionConfig`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ (mode, symbol, strategy, etc.)
  - `LiveSession`: –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–µ—Å—Å–∏—è —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  - `LiveSessionManager`: Singleton –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- **–§—É–Ω–∫—Ü–∏–∏ LiveSessionManager**:
  - `create_session()`: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ (paper –∏–ª–∏ real)
  - `start_session()`: –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - `stop_session()`: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - `get_status()`: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏
  - `list_status()`: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
  - `get_trades()`: –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
  - `get_recent_bars()`: –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±–∞—Ä—ã
  - `get_account_snapshot()`: Snapshot –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–æ–∑–∏—Ü–∏–π
- **WebSocket Support**:
  - Real-time updates: `state_update`, `trade`, `bar`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ broadcast –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
  - Connection management
- **State Caching**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ last_state –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

### 8. Web UI –∏ API (`llm_trading_system/api/`)

#### **server.py**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: FastAPI —Å–µ—Ä–≤–µ—Ä —Å REST API –∏ Web UI
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: FastAPI, Jinja2, uvicorn
- **API Endpoints (Backtest)**:
  - `GET /health`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
  - `POST /backtest`: –ó–∞–ø—É—Å–∫ –±—ç–∫—Ç–µ—Å—Ç–∞ (JSON API)
  - `GET /ui/`: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Web UI (—Å strategy type detection)
  - `GET /ui/strategies/new`: –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - `POST /ui/strategies/{name}/save`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - `GET /ui/strategies/{name}/edit`: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - `GET /ui/strategies/{name}/backtest`: –§–æ—Ä–º–∞ –±—ç–∫—Ç–µ—Å—Ç–∞
  - `POST /ui/strategies/{name}/backtest`: –ó–∞–ø—É—Å–∫ –±—ç–∫—Ç–µ—Å—Ç–∞ —á–µ—Ä–µ–∑ UI
  - `POST /ui/strategies/{name}/download_data`: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (streaming)
  - `GET /ui/data/files`: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö CSV —Ñ–∞–π–ª–æ–≤
- **API Endpoints (Live Trading)** üÜï:
  - `GET /ui/live`: Live Trading —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (unified paper + real UI)
  - `POST /api/live/sessions`: –°–æ–∑–¥–∞–Ω–∏–µ live —Å–µ—Å—Å–∏–∏
  - `POST /api/live/sessions/{id}/start`: –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - `POST /api/live/sessions/{id}/stop`: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
  - `GET /api/live/sessions/{id}`: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏
  - `GET /api/live/sessions`: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
  - `GET /api/live/sessions/{id}/trades`: –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
  - `GET /api/live/sessions/{id}/bars`: –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±–∞—Ä—ã
  - `GET /api/live/sessions/{id}/account`: Account snapshot
  - `WS /ws/live/{id}`: WebSocket –¥–ª—è real-time updates
- **–§—É–Ω–∫—Ü–∏–∏**:
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - Strategy type detection (Indicator/LLM Only/Hybrid)
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Binance
  - Real-time –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (Server-Sent Events)
  - Dropdown-—Å–µ–ª–µ–∫—Ç–æ—Ä CSV —Ñ–∞–π–ª–æ–≤
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—ç–∫—Ç–µ—Å—Ç–æ–≤ —Å Next Actions panel
  - Live trading session management —á–µ—Ä–µ–∑ REST + WebSocket

#### **templates/**
- **base.html**: –ë–∞–∑–æ–≤—ã–π HTML —à–∞–±–ª–æ–Ω —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ —Å—Ç–∏–ª—è–º–∏
- **index.html** üîÑ: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - –ö–æ–ª–æ–Ω–∫–∏: Name, Type (Indicator/LLM Only/Hybrid), Symbol, Actions
  - Type badges —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
  - –ö–Ω–æ–ø–∫–∏: Edit, Backtest, Live (Paper), Live (Real), Delete
  - –í—Å–µ Live –∫–Ω–æ–ø–∫–∏ pre-fill –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è quick session start
- **strategy_form.html** üîÑ: –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
  - JSON —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ (pyramiding, martingale, TP/SL)
  - üÜï **Live Trading Hints**: –ü–æ–¥—Å–∫–∞–∑–∫–∏ –æ initial_deposit (Paper vs Real mode)
  - üÜï **LLM Regime Hints**: –û–±—ä—è—Å–Ω–µ–Ω–∏–µ position sizing —Å k multipliers
- **backtest_form.html**: –§–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞ –±—ç–∫—Ç–µ—Å—Ç–∞
  - –°–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å Binance
  - Real-time –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
  - Dropdown –≤—ã–±–æ—Ä CSV —Ñ–∞–π–ª–∞
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±—ç–∫—Ç–µ—Å—Ç–∞ (equity, fees, slippage)
- **backtest_result.html** üîÑ: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏
  - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –ö—Ä–∏–≤–∞—è –∫–∞–ø–∏—Ç–∞–ª–∞ —Å Lightweight Charts
  - –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫
  - üÜï **Next Actions Panel**:
    * "Repeat Backtest" - –ø–æ–≤—Ç–æ—Ä –±—ç–∫—Ç–µ—Å—Ç–∞
    * "Go Live (Paper Test)" - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ live —Å paper mode + final equity
    * "Go Live (Real Trading)" - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ live —Å real mode
- **live_trading.html** üÜï: Unified Live Trading UI
  - **Session Summary Block**:
    * Strategy, symbol, timeframe, session ID
    * Running time —Å live —Ç–∞–π–º–µ—Ä–æ–º (HH:MM:SS)
    * Total trades, return %, win rate
    * Mode badge (Paper/Real)
  - **Activity Log Console**:
    * Real-time event logging
    * Color-coded messages (info/success/error/warning/trade)
    * Auto-scrolling, 100-entry limit
  - **Control Panel**:
    * Strategy/Symbol/Timeframe selectors
    * Paper/Real mode switcher
    * Adaptive deposit field (editable vs readonly)
    * Create/Start/Stop session buttons
  - **Chart Section**:
    * Lightweight Charts –¥–ª—è candlesticks
    * Indicator checkboxes (RSI, BB, EMA, Trades)
    * Real-time bar updates via WebSocket
  - **Account Status**:
    * Equity, balance, position, realized/unrealized P&L
    * Mode badge
    * LLM regime status (if enabled)
  - **Trades Table**: Real-time updates —Å color-coded profit/loss
  - **Responsive Grid Layout**:
    * Desktop: control panel + status left, chart right
    * Mobile: single column stack
  - **URL Parameter Prefilling**: Pre-fills from query params

#### **static/live_trading.js** üÜï
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: JavaScript controller –¥–ª—è Live Trading UI
- **–†–∞–∑–º–µ—Ä**: ~1100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - **Session Summary Management**:
    * `updateSessionSummary()`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ metrics (return %, win rate)
    * `startDurationTimer()`: Live —Ç–∞–π–º–µ—Ä HH:MM:SS
    * `updateDuration()`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
  - **Activity Log System**:
    * `addLogEntry(message, type)`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
    * Auto-scrolling, 100-entry limit
    * Type-based styling (info/success/error/warning/trade)
  - **Mode Switching**:
    * `handleModeChange()`: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Paper/Real mode
    * Deposit field –∞–¥–∞–ø—Ç–∞—Ü–∏—è (editable vs readonly)
    * `fetchLiveBalance()`: –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∏–∑ –±–∏—Ä–∂–∏ –¥–ª—è Real mode
  - **Session Management**:
    * `createSession()`: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
    * `startSession()`: –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å WebSocket connection
    * `stopSession()`: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å cleanup
  - **WebSocket Real-time Updates**:
    * `connectWebSocket()`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    * `handleWebSocketMessage()`: –†–æ—É—Ç–∏–Ω–≥ messages (bar/trade/state_update)
    * Automatic reconnection —Å exponential backoff
  - **Chart Management**:
    * `initializeChart()`: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Lightweight Charts
    * `loadInitialBars()`: –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
    * `updateChart()`: Real-time bar updates
    * `addTradeMarker()`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ markers –Ω–∞ –≥—Ä–∞—Ñ–∏–∫
    * Indicator series (RSI, BB, EMA) —Å visibility controls
  - **UI Updates**:
    * `updateAccountMetrics()`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ equity, balance, P&L
    * `updateTradesTable()`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–¥–µ–ª–æ–∫
    * `updateLLMRegime()`: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ LLM regime data
  - **URL Parameters**:
    * `prefillFormFromURL()`: Pre-filling —Ñ–æ—Ä–º—ã –∏–∑ query params
    * Supports: strategy, symbol, timeframe, mode, deposit
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
  - Type-safe event handling
  - Comprehensive error handling
  - Isolated –æ—Ç backtest.js (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)

---

### 9. CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (`llm_trading_system/cli/`)

#### **full_cycle_cli.py**
- CLI –ø–æ–ª–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
- **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: `llm-trading-cli` (console script)
- –†–µ–∂–∏–º—ã: Mock –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ API –¥–∞–Ω–Ω—ã–µ
- –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω: –¥–∞–Ω–Ω—ã–µ ‚Üí LLM ‚Üí —Ä–∞–∑–º–µ—Ä ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `python -m llm_trading_system.cli.full_cycle_cli --real-data --model llama3.2`

#### **check_dependencies.py**
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Ollama
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: `llm-trading-check-deps`

#### **quick_test_ollama.py**
- –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Ollama
- **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: `llm-trading-test-ollama`

---

### 10. –¢–µ—Å—Ç—ã (`tests/`)

#### **test_position_sizing.py**
- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (–û–ë–ù–û–í–õ–ï–ù–û –¥–ª—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤ –∏ —Ä–µ–∂–∏–º–æ–≤
- –ü–æ–∫—Ä—ã—Ç–∏–µ: clamp, safe_get_score, multipliers
- ~19 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤ (–≤—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º: –æ–∂–∏–¥–∞–µ—Ç—Å—è k=0.5 (–≤–º–µ—Å—Ç–æ k=1.0)
  - –¢–µ—Å—Ç—ã confidence_level (–≤–º–µ—Å—Ç–æ btc_sentiment)
  - –¢–µ—Å—Ç—ã trend_strength (–≤–º–µ—Å—Ç–æ onchain_pressure)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è (k_long > k_short)

#### **test_full_cycle.py**
- **Standalone –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç** (–ù–ï pytest —Ç–µ—Å—Ç!)
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ + tests/test_full_cycle.py
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `python test_full_cycle.py [OPTIONS]`
- **–û–ø—Ü–∏–∏**:
  - `--real-data`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API –¥–∞–Ω–Ω—ã–µ
  - `--model MODEL`: –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ Ollama (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: llama3.2)
  - `--ollama-url URL`: URL Ollama API
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Python path (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è mock –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω: –¥–∞–Ω–Ω—ã–µ ‚Üí –ø—Ä–æ–º–ø—Ç ‚Üí LLM ‚Üí –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí sizing
  - –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows/Linux/macOS

#### **test_ui_smoke.py**
- Smoke —Ç–µ—Å—Ç—ã Web UI
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (index, strategy form, backtest)
- –í–∞–ª–∏–¥–∞—Ü–∏—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π

#### **test_ui_live_integration.py** üÜï
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: UI integration —Ç–µ—Å—Ç—ã –¥–ª—è Live Trading
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 6
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**:
  1. `test_ui_live_page_returns_html`: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö elements
     - Mode switcher (paper/real radio buttons)
     - Deposit field (id="initial-deposit")
     - Control buttons (create/start/stop)
     - Chart container
     - Trades table, account status
     - Session summary, activity log
  2. `test_ui_live_prefill_parameters`: URL query params prefilling
  3. `test_index_contains_live_trading_links`: Links —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  4. `test_backtest_result_contains_live_action_buttons`: "Next Actions" panel
  5. `test_strategy_form_contains_live_hints`: Live trading –ø–æ–¥—Å–∫–∞–∑–∫–∏
  6. `test_ui_live_responsive_layout`: Responsive grid layout classes
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ 6 —Ç–µ—Å—Ç–æ–≤ PASSED ‚úÖ

#### **test_exchange_paper.py** üÜï
- –¢–µ—Å—Ç—ã PaperTradingClient
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–æ–∑–∏—Ü–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è order execution

#### **test_live_trading_engine.py** üÜï
- –¢–µ—Å—Ç—ã LiveTradingEngine
- –ü—Ä–æ–≤–µ—Ä–∫–∞ real-time execution —Ü–∏–∫–ª–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ExchangeClient

#### **test_live_api.py** üÜï
- –¢–µ—Å—Ç—ã REST API endpoints –¥–ª—è live sessions
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–µ—Å—Å–∏—è–º–∏
- WebSocket connection testing

#### **test_llm_regime_wrapped.py** üÜï
- –¢–µ—Å—Ç—ã LLMRegimeWrappedStrategy
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LLM regime —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π

#### **test_ollama.py**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ Ollama

#### **test_onchain_apis.py** / **test_fetch_onchain.py**
- –¢–µ—Å—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è on-chain –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è API endpoint'–æ–≤

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### **setup.py**
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ console scripts:
  - `llm-trading-cli`
  - `llm-trading-check-deps`
  - `llm-trading-test-ollama`
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: requests>=2.32.3
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Python: >=3.12

### **requirements.txt**
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
  - `requests==2.32.3` - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
  - `numpy>=1.24.0` - –í—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
  - `pandas>=2.0.0` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö
  - `tenacity>=8.0.0` - Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **API –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
  - `fastapi==0.115.0` - Web framework –¥–ª—è REST API
  - `uvicorn==0.32.0` - ASGI —Å–µ—Ä–≤–µ—Ä
  - `jinja2==3.1.4` - HTML —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è
  - `python-multipart==0.0.9` - –û–±—Ä–∞–±–æ—Ç–∫–∞ form data
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `pytest==8.3.3`
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ dev –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: mypy, black, ruff (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã)

### **.env.example**
- –®–∞–±–ª–æ–Ω –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- API –∫–ª—é—á–∏ (CryptoPanic, NewsAPI)
- –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (BASE_ASSET, HORIZON_HOURS)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (BASE_LONG_SIZE, K_MAX)
- API endpoint'—ã (Binance, CoinMetrics –∏ —Ç.–¥.)

### **docker-compose.yml**
- –¢—Ä–∏ –ø—Ä–æ—Ñ–∏–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤:
  1. **llm-trading** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –ó–∞–ø—É—Å–∫ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
  2. **test**: –ó–∞–ø—É—Å–∫ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤
  3. **market-snapshot**: –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤: 2 CPU, 1GB RAM

### **Dockerfile**
- –ë–∞–∑–∞ Python 3.12-slim
- Non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤

### **Makefile**
- –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±—â–∏—Ö –∑–∞–¥–∞—á
- Docker –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### **README.md** (—Ä—É—Å—Å–∫–∏–π)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°–ø—Ä–∞–≤–∫–∞ –ø–æ API
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### **OLLAMA_SETUP.md** (—Ä—É—Å—Å–∫–∏–π)
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Ollama
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### **FULL_CYCLE_TEST.md** (—Ä—É—Å—Å–∫–∏–π)
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∫–≤–æ–∑–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (–û–ë–ù–û–í–õ–ï–ù–û)
- –û–ø–∏—Å–∞–Ω–∏–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ position sizing
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: EDGE_GAIN=2.5, EDGE_GAMMA=0.7, BASE_K=0.5
- –û–∂–∏–¥–∞–µ–º—ã–µ –≤—ã–≤–æ–¥—ã –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç—é–Ω–∏–Ω–≥—É –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç–∏
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ standalone —Å–∫—Ä–∏–ø—Ç–∞ test_full_cycle.py

---

## –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### Console Scripts (—á–µ—Ä–µ–∑ setup.py)
1. **llm-trading-cli**: –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
2. **llm-trading-check-deps**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **llm-trading-test-ollama**: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç Ollama

### –ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
```bash
# –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
python -m llm_trading_system.core.position_sizing

# –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python -m llm_trading_system.core.market_snapshot

# –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∞ (CLI)
python -m llm_trading_system.cli.full_cycle_cli

# –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∞ (standalone —Å–∫—Ä–∏–ø—Ç) - –ù–û–í–´–ô –°–ü–û–°–û–ë
python test_full_cycle.py --real-data --model deepseek-v3.1:671b-cloud
python tests/test_full_cycle.py  # –¢–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ tests/

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/ -v
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ Docker
```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up --build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
docker-compose --profile test up test

# –°–Ω–∏–º–æ–∫ —Ä—ã–Ω–∫–∞
docker-compose --profile market up market-snapshot
```

---

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (market_snapshot.py)
   ‚Üì
   [Binance] ‚Üí –¶–µ–Ω–∞, –û–±—ä–µ–º, –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ, OI
   [CoinMetrics] ‚Üí BTC –º–µ—Ç—Ä–∏–∫–∏, –°—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã
   [Blockchain.com] ‚Üí –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–æ–≤
   [CryptoPanic/NewsAPI] ‚Üí –ù–æ–≤–æ—Å—Ç–∏ –∏ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç
   ‚Üì
2. –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Å–Ω–∏–º–∫–∞
   ‚Üì
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (build_system_prompt, build_user_prompt)
   ‚Üì
4. –ó–∞–ø—Ä–æ—Å LLM (—á–µ—Ä–µ–∑ llm_infra)
   ‚Üì
5. –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ (regime_engine.py)
   ‚Üì
   JSON: {prob_bull, prob_bear, scores, reasoning}
   ‚Üì
6. –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (position_sizing.py)
   ‚Üì
   –ú–Ω–æ–∂–∏—Ç–µ–ª–∏: k_long, k_short
   ‚Üì
7. –¢–æ—Ä–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ
   ‚Üì
   [Strategy] ‚Üí Order ‚Üí [Portfolio] ‚Üí Execution
```

---

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π
2. **Unified Live Trading** üÜï (–ì–õ–ê–í–ù–ê–Ø –ù–û–í–ò–ù–ö–ê):
   - –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Paper –∏ Real trading
   - Exchange integration (Binance Futures + Paper Trading)
   - Real-time execution engine —Å WebSocket updates
   - Session management (create/start/stop)
   - Live monitoring —Å comprehensive metrics
   - Seamless workflow: Backtest ‚Üí Paper Test ‚Üí Live Trading
3. **Web UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
   - Strategy management —Å type detection (Indicator/LLM/Hybrid)
   - Live Trading dashboard —Å session summary –∏ activity log
   - Responsive design (desktop + mobile)
   - Real-time charts —Å Lightweight Charts
   - URL parameter prefilling –¥–ª—è quick navigation
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Binance archive —Å real-time –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
5. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Å JSON-DSL –¥–ª—è –ø—Ä–∞–≤–∏–ª
6. **Pine Script —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –õ–µ–≥–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏–∑ TradingView
7. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö**: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API, –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫
8. **LLM-–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å Ollama, OpenAI –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
9. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π LLM-—Ä–µ–∂–∏–º**:
   - –ù–µ–ª–∏–Ω–µ–π–Ω–∞—è –∞–º–ø–ª–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (EDGE_GAIN, EDGE_GAMMA)
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ LLM (confidence_level scaling)
   - –£—Å–∏–ª–µ–Ω–∏–µ –ø–æ —Å–∏–ª–µ —Ç—Ä–µ–Ω–¥–∞ (trend_strength boost)
   - –°–º—è–≥—á–µ–Ω–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ (0.6-0.85 –ø—Ä–∏–µ–º–ª–µ–º—ã)
10. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞
   - –ü–∏—Ä–∞–º–∏–¥–∏–Ω–≥ –∏ –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª-—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Take Profit / Stop Loss
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
11. **Real-time Monitoring** üÜï:
   - WebSocket updates –¥–ª—è bar/trade/state
   - Session summary —Å live metrics (return %, win rate)
   - Running duration timer
   - Activity log console —Å color-coded events
12. **–ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥**: –ü–æ–ª–Ω—ã–π –¥–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º
13. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Docker**: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
14. **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –Æ–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–≤–∫–ª—é—á–∞—è UI tests)
15. **–•–æ—Ä–æ—à–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω**: –û–±—à–∏—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
16. **Type Hints**: –ü–æ–ª–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è Python 3.12+
17. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**: –õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
18. **Safety Mechanisms** üÜï:
   - EXCHANGE_LIVE_ENABLED flag –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π real trading
   - Multiple confirmation dialogs –¥–ª—è real trading operations
   - Paper trading –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫**: Python 3.12+
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
  - requests (HTTP –∫–ª–∏–µ–Ω—Ç)
  - numpy, pandas (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
  - tenacity (retry –ª–æ–≥–∏–∫–∞)
  - pytest (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **Web Framework**:
  - FastAPI (REST API)
  - Jinja2 (—à–∞–±–ª–æ–Ω—ã)
  - uvicorn (ASGI —Å–µ—Ä–≤–µ—Ä)
- **LLM**: Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–π) –∏–ª–∏ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ API
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö**:
  - Binance (spot —Ü–µ–Ω—ã, –¥–∞–Ω–Ω—ã–µ OHLCV)
  - data.binance.vision (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ö–∏–≤—ã)
  - CoinMetrics, Blockchain.com, CryptoPanic, NewsAPI
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏**: Make

---

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
make setup

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å–∫ Web UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python -m llm_trading_system.api.server
# –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:8000/ui/

# 4. –ò–ª–∏ –∑–∞–ø—É—Å–∫ Ollama (–¥–ª—è LLM-—Ä–µ–∂–∏–º–æ–≤)
ollama serve
ollama pull llama3.2

# 5. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make test

# 6. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ CLI
python -m llm_trading_system.cli.full_cycle_cli

# –ò–ª–∏ —Å Docker
docker-compose up --build
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **core/**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ä–µ–∂–∏–º—ã, —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏, —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- **infra/**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ (LLM –∫–ª–∏–µ–Ω—Ç—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –ø–æ–≤—Ç–æ—Ä—ã)
- **strategies/**: –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- **engine/**: –°–∏–º—É–ª—è—Ü–∏—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (–ø–æ—Ä—Ç—Ñ–µ–ª—å, –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥, –¥–∞–Ω–Ω—ã–µ)
- **cli/**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)

### –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Protocol –≤–º–µ—Å—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã
- –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- Data feeds –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

### –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ú–æ–¥—É–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞

---

–≠—Ç–æ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, –≥–æ—Ç–æ–≤–∞—è –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Ç–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –æ—Ç–ª–∏—á–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π, –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.
